{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Owner\\\\Desktop\\\\github\\\\blog\\\\frontend\\\\src\\\\components\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [loginInput, setLoginInput] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [redirect, setRedirect] = useState(false);\n  //const {status, setStatus} = useContext(StateContext);\n\n  const loginInputHandler = event => {\n    const {\n      name,\n      value\n    } = event.target;\n    //console.log(event.target)\n    setLoginInput(prevValue => {\n      return {\n        ...prevValue,\n        [name]: value\n      };\n    });\n  };\n  const onLogin = async event => {\n    event.preventDefault();\n    try {\n      await fetch('http://localhost:4000/login', {\n        method: \"POST\",\n        credentials: \"include\",\n        body: JSON.stringify(loginInput),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        if (response.status !== 200) {\n          alert('Failed to login');\n        }\n        if (response.ok) {\n          setRedirect(true);\n        } else {\n          alert('Wrong credentials');\n        }\n      });\n    } catch (err) {}\n  };\n  if (redirect) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: '/'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 14\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"login\",\n    method: \"POST\",\n    onSubmit: onLogin,\n    autoComplete: \"off\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-field\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: loginInputHandler,\n        name: \"username\",\n        maxLength: \"20\",\n        type: \"text\",\n        value: loginInput.username,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"password\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: loginInputHandler,\n        name: \"password\",\n        maxLength: \"20\",\n        type: \"password\",\n        value: loginInput.password,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 8\n  }, this);\n};\n_s(Login, \"ZK6RoE3N22UIw9RCQ7IAMIdOFc4=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useContext","Navigate","jsxDEV","_jsxDEV","Login","_s","loginInput","setLoginInput","username","password","redirect","setRedirect","loginInputHandler","event","name","value","target","prevValue","onLogin","preventDefault","fetch","method","credentials","body","JSON","stringify","headers","then","response","status","alert","ok","err","to","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","autoComplete","children","onChange","maxLength","type","required","_c","$RefreshReg$"],"sources":["C:/Users/Owner/Desktop/github/blog/frontend/src/components/Login.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\n\nconst Login = ()=>{\n\n  const [loginInput, setLoginInput] = useState({username:\"\",password:\"\"});\n  const [redirect, setRedirect] = useState(false);\n  //const {status, setStatus} = useContext(StateContext);\n\n  const loginInputHandler = event=>{\n    const  {name, value} = event.target;\n    //console.log(event.target)\n    setLoginInput(prevValue=>{\n     return ({\n        ...prevValue,\n        [name]: value\n      })\n    })\n  };\n\n  const onLogin= async event=>{\n    event.preventDefault();\n    try{\n      await fetch('http://localhost:4000/login', {\n        method: \"POST\",\n        credentials: \"include\",\n        body: JSON.stringify(loginInput),\n        headers: {'Content-Type':'application/json'}\n      }).then(response=>{\n  \n        if(response.status!==200){\n          alert('Failed to login');\n        }\n        if(response.ok){\n          setRedirect(true);\n        }\n        else{\n          alert('Wrong credentials');\n        }\n      });}\n      catch(err){\n        \n      }\n    }\n   \n    \n\n    if(redirect){\n      return(<Navigate to={'/'} />);\n    }\n    return(\n       <form className=\"login\" method=\"POST\" onSubmit={onLogin} autoComplete=\"off\">\n       <h1>Login</h1>\n       <div className=\"text-field\">\n       <input onChange={loginInputHandler} name=\"username\" maxLength=\"20\" type=\"text\" value={loginInput.username} required />\n         <label>Username</label>\n       </div>\n         <div className=\"password\">\n         <input onChange={loginInputHandler} name=\"password\" maxLength=\"20\" type=\"password\" value={loginInput.password} required />\n         <label>Password</label>\n         </div>\n         <button>Login</button>\n       </form>\n    )\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}