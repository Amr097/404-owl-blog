{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Owner/Desktop/github/Blog/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Owner/Desktop/github/Blog/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Owner/Desktop/github/Blog/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Owner/Desktop/github/Blog/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Owner/Desktop/github/Blog/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(){var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),Input=_useState2[0],setInput=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),redirect=_useState4[0],setRedirect=_useState4[1];var setInputHandler=function setInputHandler(event){var userInput=event.target.value;var inputName=event.target.name;setInput(function(prevValue){return _objectSpread(_objectSpread({},prevValue),{},_defineProperty({},inputName,userInput));});};var onRegister=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return fetch('http://localhost:4000/register',{method:\"POST\",credentials:\"include\",body:JSON.stringify(Input),headers:{'Content-Type':'application/json'}});case 3:response=_context.sent;//console.log(response);\nif(response.status==200){setRedirect(true);}else{alert('Failed to register');}setInput({username:\"\",password:\"\"});case 6:case\"end\":return _context.stop();}},_callee);}));return function onRegister(_x){return _ref.apply(this,arguments);};}();if(redirect){return/*#__PURE__*/_jsx(Navigate,{to:'/login'});}return/*#__PURE__*/_jsxs(\"form\",{action:\"/login\",className:\"login\",onSubmit:onRegister,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-field\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:setInputHandler,type:\"text\",maxLength:\"20\",name:\"username\",value:Input.username}),/*#__PURE__*/_jsx(\"label\",{children:\"Username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"password\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:setInputHandler,type:\"password\",maxLength:\"20\",name:\"password\",value:Input.password}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"})]}),/*#__PURE__*/_jsx(\"button\",{children:\"Sign Up\"})]});};export default Register;","map":{"version":3,"names":["React","useState","Navigate","jsx","_jsx","jsxs","_jsxs","Register","_useState","username","password","_useState2","_slicedToArray","Input","setInput","_useState3","_useState4","redirect","setRedirect","setInputHandler","event","userInput","target","value","inputName","name","prevValue","_objectSpread","_defineProperty","onRegister","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","preventDefault","fetch","method","credentials","body","JSON","stringify","headers","sent","status","alert","stop","_x","apply","arguments","to","action","className","onSubmit","autoComplete","children","onChange","type","maxLength"],"sources":["C:/Users/Owner/Desktop/github/blog/frontend/src/components/Register.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\n\r\nconst Register = ()=>{\r\n\r\n  const [Input, setInput]=useState({username:\"\",password:\"\"});\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  const setInputHandler = event=>{\r\n      const userInput = event.target.value;\r\n      const inputName = event.target.name;\r\n     \r\n      setInput(prevValue=>{\r\n        return({\r\n           ...prevValue,\r\n           [inputName]:userInput\r\n        })\r\n      });\r\n  }\r\n\r\n  const onRegister = async event=>{\r\n    event.preventDefault();\r\n\r\n    const response = await fetch('http://localhost:4000/register', {\r\n      method: \"POST\",\r\n      credentials: \"include\",\r\n      body: JSON.stringify(Input),\r\n      headers: {'Content-Type':'application/json'}\r\n    });\r\n\r\n    //console.log(response);\r\n\r\n    if(response.status==200){\r\n      setRedirect(true);\r\n    }\r\n    else{\r\n      alert('Failed to register');\r\n    }\r\n    setInput({username:\"\",password:\"\"});\r\n  }\r\n\r\n  if(redirect){\r\n    return(<Navigate to={'/login'} />);\r\n  }\r\n    return(\r\n       <form action=\"/login\" className=\"login\" onSubmit={onRegister} autoComplete=\"off\">\r\n         <h1>Sign Up</h1>\r\n         <div className=\"text-field\">\r\n         <input onChange={setInputHandler} type=\"text\" maxLength=\"20\" name=\"username\" value={Input.username} />\r\n         <label>Username</label>\r\n         </div>\r\n         <div className=\"password\">\r\n         <input onChange={setInputHandler} type=\"password\" maxLength=\"20\" name=\"password\" value={Input.password}/>\r\n         <label>Password</label>\r\n         </div>\r\n         <button>Sign Up</button>\r\n       </form>\r\n    )\r\n}\r\n\r\nexport default Register;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}