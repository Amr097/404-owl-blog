{"ast":null,"code":"import _objectSpread from\"C:/Users/Owner/Desktop/github/Blog/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"C:/Users/Owner/Desktop/github/Blog/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Owner/Desktop/github/Blog/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Owner/Desktop/github/Blog/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import Post from\"./Post\";import{StateContext}from\"../StateContext\";import Footer from\"./Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Home=function Home(){var _useContext=useContext(StateContext),status=_useContext.status,setStatus=_useContext.setStatus;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),feed=_useState2[0],setfeed=_useState2[1];//console.log(status)\nvar getPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('http://localhost:4000/feed',{method:\"GET\",credentials:\"include\"}).then(function(response){response.json().then(function(user){setfeed(user.posts);setStatus({state:user.state,user:user.user});});});case 2:case\"end\":return _context.stop();}},_callee);}));return function getPosts(){return _ref.apply(this,arguments);};}();useEffect(function(){getPosts();},[]);//console.log(feed)\nreturn/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{className:\"home\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"home-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"home-title\",children:[\" The \",/*#__PURE__*/_jsx(\"span\",{children:\"Owl\"}),\" Blog\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"home-subtitle\",children:\"Something to Hoot About\"})]})}),/*#__PURE__*/_jsx(\"section\",{className:\"post\",children:feed.length>0&&feed.map(function(post,index){return/*#__PURE__*/_jsx(Post,_objectSpread({},post),index);})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Home;","map":{"version":3,"names":["React","useContext","useEffect","useState","Post","StateContext","Footer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Home","_useContext","status","setStatus","_useState","_useState2","_slicedToArray","feed","setfeed","getPosts","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetch","method","credentials","then","response","json","user","posts","state","stop","apply","arguments","children","className","length","map","post","index","_objectSpread"],"sources":["C:/Users/Owner/Desktop/github/blog/frontend/src/components/Home.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport Post from \"./Post\";\r\nimport { StateContext } from \"../StateContext\";\r\nimport Footer from \"./Footer\";\r\n\r\n\r\nconst Home = ()=>{\r\n    const {status, setStatus} = useContext(StateContext);\r\n    const [feed, setfeed] = useState([]);\r\n    //console.log(status)\r\n\r\n        const getPosts = async ()=>{\r\n            \r\n              await fetch('http://localhost:4000/feed', {\r\n              method: \"GET\",\r\n              credentials: \"include\"\r\n            }).then(response=>{\r\n                   response.json().then(user=>{\r\n                   setfeed(user.posts);\r\n                   setStatus({state: user.state, user:user.user});\r\n                  })\r\n            })\r\n          }\r\n        \r\n      useEffect(()=>{getPosts()}, []);\r\n      \r\n      //console.log(feed)\r\n    return(\r\n        <>\r\n        <section className=\"home\">\r\n            <div className=\"home-container\">\r\n               <h2 className=\"home-title\"> The <span>Owl</span> Blog</h2>\r\n               <span className=\"home-subtitle\">Something to Hoot About</span>\r\n            </div>\r\n        </section>\r\n        <section className=\"post\">\r\n       {feed.length>0 && feed.map((post, index)=>(\r\n            <Post key={index} {...post} />\r\n        ))}\r\n        </section>\r\n        <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default  Home;"],"mappings":"mhBAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,OAASC,YAAY,KAAQ,iBAAiB,CAC9C,MAAO,CAAAC,MAAM,KAAM,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAG9B,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAA,CAAO,CACb,IAAAC,WAAA,CAA4Bb,UAAU,CAACI,YAAY,CAAC,CAA7CU,MAAM,CAAAD,WAAA,CAANC,MAAM,CAAEC,SAAS,CAAAF,WAAA,CAATE,SAAS,CACxB,IAAAC,SAAA,CAAwBd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB;AAEI,GAAM,CAAAI,QAAQ,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,SAAAF,mBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SAEL,CAAAC,KAAK,CAAC,4BAA4B,CAAE,CAC1CC,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SACf,CAAC,CAAC,CAACC,IAAI,CAAC,SAAAC,QAAQ,CAAE,CACXA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAACF,IAAI,CAAC,SAAAG,IAAI,CAAE,CAC3BlB,OAAO,CAACkB,IAAI,CAACC,KAAK,CAAC,CACnBxB,SAAS,CAAC,CAACyB,KAAK,CAAEF,IAAI,CAACE,KAAK,CAAEF,IAAI,CAACA,IAAI,CAACA,IAAI,CAAC,CAAC,CAC/C,CAAC,CAAC,CACR,CAAC,CAAC,yBAAAT,QAAA,CAAAY,IAAA,MAAAf,OAAA,GACH,kBAXG,CAAAL,QAAQA,CAAA,SAAAC,IAAA,CAAAoB,KAAA,MAAAC,SAAA,OAWX,CAEL1C,SAAS,CAAC,UAAI,CAACoB,QAAQ,CAAC,CAAC,EAAC,CAAE,EAAE,CAAC,CAE/B;AACF,mBACIZ,KAAA,CAAAE,SAAA,EAAAiC,QAAA,eACArC,IAAA,YAASsC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACrBnC,KAAA,QAAKoC,SAAS,CAAC,gBAAgB,CAAAD,QAAA,eAC5BnC,KAAA,OAAIoC,SAAS,CAAC,YAAY,CAAAD,QAAA,EAAC,OAAK,cAAArC,IAAA,SAAAqC,QAAA,CAAM,KAAG,CAAM,CAAC,QAAK,EAAI,CAAC,cAC1DrC,IAAA,SAAMsC,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAC,yBAAuB,CAAM,CAAC,EAC5D,CAAC,CACD,CAAC,cACVrC,IAAA,YAASsC,SAAS,CAAC,MAAM,CAAAD,QAAA,CACzBzB,IAAI,CAAC2B,MAAM,CAAC,CAAC,EAAI3B,IAAI,CAAC4B,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBAClC1C,IAAA,CAACJ,IAAI,CAAA+C,aAAA,IAAiBF,IAAI,EAAfC,KAAkB,CAAC,EACjC,CAAC,CACO,CAAC,cACV1C,IAAA,CAACF,MAAM,GAAE,CAAC,EACR,CAAC,CAEX,CAAC,CAED,cAAgB,CAAAO,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}